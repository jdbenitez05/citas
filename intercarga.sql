-- MySQL Script generated by MySQL Workbench
-- 11/16/14 13:32:35
-- Model: New Model    Version: 1.0
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`PROVEEDORES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROVEEDORES` (
  `CODPROVEDOR` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(150) NOT NULL,
  `ABREVIACION` VARCHAR(45) NULL,
  `DESCRIPCION` LONGTEXT NULL,
  `TIPOPROVEEDOR` INT NULL,
  PRIMARY KEY (`CODPROVEDOR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUCTOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUCTOS` (
  `CODPRODUCTO` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(150) NOT NULL,
  `ABREVIACION` VARCHAR(45) NOT NULL,
  `DESCRIPCION` LONGTEXT NULL,
  PRIMARY KEY (`CODPRODUCTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CAMIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CAMIONES` (
  `CODCAMION4` INT NOT NULL AUTO_INCREMENT,
  `PROVEEDORID` INT NOT NULL,
  `PLACA` VARCHAR(20) NOT NULL,
  `COLOR` VARCHAR(100) NULL,
  `CAPACIDAD` VARCHAR(45) NULL,
  `DESCRIPCION` LONGTEXT NULL,
  PRIMARY KEY (`CODCAMION4`),
  UNIQUE INDEX `PLACA_UNIQUE` (`PLACA` ASC),
  INDEX `fk_CAMIONES_PROVEEDORES1_idx` (`PROVEEDORID` ASC),
  CONSTRAINT `fk_CAMIONES_PROVEEDORES1`
    FOREIGN KEY (`PROVEEDORID`)
    REFERENCES `mydb`.`PROVEEDORES` (`CODPROVEDOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`LUGARES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`LUGARES` (
  `CODLUGAR` INT NOT NULL AUTO_INCREMENT,
  `LUGARNOMBRE` VARCHAR(45) NULL,
  `TIPOLUGAR` INT NULL,
  PRIMARY KEY (`CODLUGAR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`RUTAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`RUTAS` (
  `CODRUTA` INT NOT NULL AUTO_INCREMENT,
  `LUGARES_CODLUGAR` INT NOT NULL,
  `LUGARES_CODLUGAR1` INT NOT NULL,
  `TIPO_RUTA` VARCHAR(45) NULL,
  PRIMARY KEY (`CODRUTA`),
  INDEX `fk_RUTAS_LUGARES1_idx` (`LUGARES_CODLUGAR` ASC),
  INDEX `fk_RUTAS_LUGARES2_idx` (`LUGARES_CODLUGAR1` ASC),
  CONSTRAINT `fk_RUTAS_LUGARES1`
    FOREIGN KEY (`LUGARES_CODLUGAR`)
    REFERENCES `mydb`.`LUGARES` (`CODLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RUTAS_LUGARES2`
    FOREIGN KEY (`LUGARES_CODLUGAR1`)
    REFERENCES `mydb`.`LUGARES` (`CODLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTES` (
  `CODCLIENTE` INT NOT NULL AUTO_INCREMENT,
  `NIT` VARCHAR(45) NULL,
  `NIOMBRE` VARCHAR(45) NULL,
  `DIRECCION` VARCHAR(45) NULL,
  `TELEFONO` VARCHAR(45) NULL,
  `CIUDAD` VARCHAR(45) NULL,
  `EMAIL` VARCHAR(45) NULL,
  `SITIOWEB` VARCHAR(45) NULL,
  PRIMARY KEY (`CODCLIENTE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PLANTAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PLANTAS` (
  `IDLUGAR` INT NOT NULL,
  `NOMBRE` VARCHAR(150) NOT NULL,
  `ABREVIADO` VARCHAR(45) NOT NULL,
  `UBICACION` VARCHAR(45) NOT NULL,
  `IDCLIENTE` INT NOT NULL,
  INDEX `fk_PLANTAS_CLIENTES1_idx` (`IDCLIENTE` ASC),
  INDEX `fk_PLANTAS_LUGARES1_idx` (`IDLUGAR` ASC),
  PRIMARY KEY (`IDLUGAR`),
  CONSTRAINT `fk_PLANTAS_CLIENTES1`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `mydb`.`CLIENTES` (`CODCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PLANTAS_LUGARES1`
    FOREIGN KEY (`IDLUGAR`)
    REFERENCES `mydb`.`LUGARES` (`CODLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CUMPLIDOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CUMPLIDOS` (
  `CODCUMPLIDO` INT NOT NULL,
  `IDPROVEEDOR` INT NOT NULL,
  `IDPRODUCTO` INT NOT NULL,
  `IDCAMION` INT NOT NULL,
  `IDRUTA` INT NOT NULL,
  `IDLUGAR_PLANTA` INT NOT NULL,
  `FECHA_ENTRADA` INT(8) NULL,
  `HORA_ENTRADA` INT(4) NULL,
  `FECHA_SALIDA` INT(8) NULL,
  `HORA_SALIDA` INT(4) NULL,
  `HORAS_TOTAL` INT NULL,
  `PESOBASCULA` DOUBLE NULL,
  `VOLUMEN_CARGADO` DOUBLE NULL,
  `VOLUMEN_DESCARGADO` DOUBLE NULL,
  `VOLUMEN_DIFERENCIA` DOUBLE NULL,
  `TIPO_CUMPLIDO` INT NULL,
  PRIMARY KEY (`CODCUMPLIDO`),
  INDEX `fk_CONTROLBASCULA_PROVEEDORES1_idx` (`IDPROVEEDOR` ASC),
  INDEX `fk_CUMPLIDOS_PRODUCTOS1_idx` (`IDPRODUCTO` ASC),
  INDEX `fk_CUMPLIDOS_CAMIONES1_idx` (`IDCAMION` ASC),
  INDEX `fk_CUMPLIDOS_RUTAS1_idx` (`IDRUTA` ASC),
  INDEX `fk_CUMPLIDOS_PLANTAS1_idx` (`IDLUGAR_PLANTA` ASC),
  UNIQUE INDEX `FECHA_ENTRADA_UNIQUE` (`FECHA_ENTRADA` ASC),
  CONSTRAINT `fk_CONTROLBASCULA_PROVEEDORES1`
    FOREIGN KEY (`IDPROVEEDOR`)
    REFERENCES `mydb`.`PROVEEDORES` (`CODPROVEDOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CUMPLIDOS_PRODUCTOS1`
    FOREIGN KEY (`IDPRODUCTO`)
    REFERENCES `mydb`.`PRODUCTOS` (`CODPRODUCTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CUMPLIDOS_CAMIONES1`
    FOREIGN KEY (`IDCAMION`)
    REFERENCES `mydb`.`CAMIONES` (`CODCAMION4`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CUMPLIDOS_RUTAS1`
    FOREIGN KEY (`IDRUTA`)
    REFERENCES `mydb`.`RUTAS` (`CODRUTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CUMPLIDOS_PLANTAS1`
    FOREIGN KEY (`IDLUGAR_PLANTA`)
    REFERENCES `mydb`.`PLANTAS` (`IDLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`BONIFICACIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`BONIFICACIONES` (
  `BONIFICACIONID` INT NOT NULL AUTO_INCREMENT,
  `VALOR` DOUBLE NOT NULL,
  `DESCRIPCION` LONGTEXT NOT NULL,
  `CUMPLIDOS_CODCUMPLIDO` INT NOT NULL,
  PRIMARY KEY (`BONIFICACIONID`),
  INDEX `fk_BONIFICACIONES_CUMPLIDOS1_idx` (`CUMPLIDOS_CODCUMPLIDO` ASC),
  CONSTRAINT `fk_BONIFICACIONES_CUMPLIDOS1`
    FOREIGN KEY (`CUMPLIDOS_CODCUMPLIDO`)
    REFERENCES `mydb`.`CUMPLIDOS` (`CODCUMPLIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`STANDBY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`STANDBY` (
  `STANDBYID` INT NOT NULL AUTO_INCREMENT,
  `CANTIDAD` INT NOT NULL,
  `VALORUNITARIO` DOUBLE NOT NULL,
  `TOTAL` DOUBLE NOT NULL,
  `DESCRIPCION` LONGTEXT NULL,
  `IDCUMPLIDO` INT NOT NULL,
  PRIMARY KEY (`STANDBYID`),
  INDEX `fk_STANDBY_CUMPLIDOS1_idx` (`IDCUMPLIDO` ASC),
  CONSTRAINT `fk_STANDBY_CUMPLIDOS1`
    FOREIGN KEY (`IDCUMPLIDO`)
    REFERENCES `mydb`.`CUMPLIDOS` (`CODCUMPLIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`POZOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`POZOS` (
  `IDLUGAR` INT NOT NULL,
  `NOMBRE` VARCHAR(150) NOT NULL,
  `ABREVIADO` VARCHAR(45) NOT NULL,
  `DESCRIPCION` LONGTEXT NULL,
  INDEX `fk_POZOS_LUGARES1_idx` (`IDLUGAR` ASC),
  PRIMARY KEY (`IDLUGAR`),
  CONSTRAINT `fk_POZOS_LUGARES1`
    FOREIGN KEY (`IDLUGAR`)
    REFERENCES `mydb`.`LUGARES` (`CODLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VALORES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`VALORES` (
  `CODVALOR` INT NOT NULL AUTO_INCREMENT,
  `IDRUTA` INT NOT NULL,
  `ESTADO` VARCHAR(3) NULL,
  `FECHA` INT(8) NULL,
  PRIMARY KEY (`CODVALOR`),
  INDEX `fk_VALORES_RUTAS1_idx` (`IDRUTA` ASC),
  CONSTRAINT `fk_VALORES_RUTAS1`
    FOREIGN KEY (`IDRUTA`)
    REFERENCES `mydb`.`RUTAS` (`CODRUTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PUERTOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PUERTOS` (
  `IDLUGAR` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `ABREVIADO` VARCHAR(45) NULL,
  INDEX `fk_PUERTOS_LUGARES1_idx` (`IDLUGAR` ASC),
  PRIMARY KEY (`IDLUGAR`),
  CONSTRAINT `fk_PUERTOS_LUGARES1`
    FOREIGN KEY (`IDLUGAR`)
    REFERENCES `mydb`.`LUGARES` (`CODLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`REDIRECCIONAMIENTOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`REDIRECCIONAMIENTOS` (
  `CODREDIRECCIONAMIENTO` INT NOT NULL,
  `IDCUMPLIDO` INT NOT NULL,
  PRIMARY KEY (`CODREDIRECCIONAMIENTO`),
  INDEX `fk_REDIRECCIONAMIENTOS_CUMPLIDOS1_idx` (`IDCUMPLIDO` ASC),
  CONSTRAINT `fk_REDIRECCIONAMIENTOS_CUMPLIDOS1`
    FOREIGN KEY (`IDCUMPLIDO`)
    REFERENCES `mydb`.`CUMPLIDOS` (`CODCUMPLIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
